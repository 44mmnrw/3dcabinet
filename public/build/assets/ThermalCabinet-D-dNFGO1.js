import{CabinetType as a}from"./CabinetType-BSIXnIWZ.js";class n extends a{constructor(i){super(i),this.thermal=i.thermal||{heatingPower:0,coolingPower:0,insulation:"standard",operatingTemp:{min:-40,max:55}},this.climate=i.climate||{hasHeater:!1,hasCooler:!1,hasThermostat:!1,hasHumidityControl:!1}}validateEquipment(i){const e={valid:!0,errors:[],warnings:[]};if(i.specs&&i.specs.operatingTemp){const t=i.specs.operatingTemp,s=this.thermal.operatingTemp;(t.min<s.min||t.max>s.max)&&e.warnings.push(`Рабочий диапазон оборудования (${t.min}°C..${t.max}°C) выходит за пределы шкафа (${s.min}°C..${s.max}°C)`)}if(i.specs&&i.specs.heatDissipation){const t=i.specs.heatDissipation;t>this.thermal.coolingPower&&e.warnings.push(`Тепловыделение оборудования (${t}Вт) превышает мощность охлаждения (${this.thermal.coolingPower}Вт)`)}return e}calculateTypeSpecificMetrics(i){const e={totalHeatDissipation:0,totalPowerConsumption:0,heatingRequired:0,coolingRequired:0,thermalBalance:"unknown"};return i.forEach(t=>{t.specs&&(e.totalHeatDissipation+=t.specs.heatDissipation||0,e.totalPowerConsumption+=t.specs.power||0)}),e.coolingRequired=e.totalHeatDissipation,e.coolingRequired>this.thermal.coolingPower?e.thermalBalance="insufficient_cooling":e.coolingRequired<this.thermal.coolingPower*.5?e.thermalBalance="oversized_cooling":e.thermalBalance="balanced",e}getConfigurationRecommendations(i){const e=[],t=this.calculateTypeSpecificMetrics(i);return t.thermalBalance==="insufficient_cooling"&&e.push({severity:"error",message:"Недостаточная мощность охлаждения",suggestion:`Требуется система охлаждения мощностью минимум ${t.coolingRequired}Вт`}),t.totalHeatDissipation>0&&!this.climate.hasCooler&&e.push({severity:"warning",message:"Оборудование выделяет тепло, но система охлаждения не установлена",suggestion:"Рекомендуется добавить охлаждающий модуль"}),t.totalPowerConsumption>this.getMaxPower()&&e.push({severity:"error",message:"Суммарное энергопотребление превышает максимально допустимое",suggestion:`Превышение: ${t.totalPowerConsumption-this.getMaxPower()}Вт`}),e}hasClimateControl(){return this.climate.hasHeater||this.climate.hasCooler||this.climate.hasThermostat}getInsulationLevel(){return this.thermal.insulation}}export{n as ThermalCabinet};
