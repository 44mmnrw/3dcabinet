import{CabinetType as i}from"./CabinetType-BSIXnIWZ.js";import{E as r}from"./app-DdhSGyjC.js";import"./react-vendor-OvXVS5lI.js";import"./three-utils-CpVhJydz.js";import"./three-core-Cs1lrHJG.js";/* empty css            */class p extends i{constructor(s){super(s),this.rack=s.rack||{units:42,width:19,depth:600,railType:"standard"},this.cabling=s.cabling||{hasHorizontalCableManager:!1,hasVerticalCableManager:!1,hasPatchPanel:!1,maxCableLoad:0},this.power=s.power||{hasPDU:!1,pduType:null,maxCurrent:0}}validateEquipment(s){const e={valid:!0,errors:[],warnings:[]};if(s.mounting&&s.mounting.rackUnits){const a=s.mounting.rackUnits,t=this.rack.units;a>t&&(e.valid=!1,e.errors.push(`Оборудование требует ${a}U, доступно ${t}U`))}if(s.dimensions&&s.dimensions.depth){const a=s.dimensions.depth,t=this.rack.depth;a>t&&(e.valid=!1,e.errors.push(`Глубина оборудования (${a}мм) превышает глубину шкафа (${t}мм)`))}return s.specs&&s.specs.cableWeight&&(this.cabling.hasVerticalCableManager||e.warnings.push("Рекомендуется добавить вертикальный кабель-органайзер")),e}calculateTypeSpecificMetrics(s){const e={usedRackUnits:0,availableRackUnits:0,utilizationPercent:0,totalCurrent:0,cableLoad:0,requiresPDU:!1,requiresCableManager:!1};return s.forEach(a=>{a.mounting&&a.mounting.rackUnits&&(e.usedRackUnits+=a.mounting.rackUnits),a.specs&&(a.specs.power&&(e.totalCurrent+=a.specs.power/r.STANDARD_VOLTAGE_V),a.specs.cableWeight&&(e.cableLoad+=a.specs.cableWeight))}),e.availableRackUnits=this.rack.units-e.usedRackUnits,e.utilizationPercent=e.usedRackUnits/this.rack.units*100,e.requiresPDU=e.totalCurrent>0&&!this.power.hasPDU,e.requiresCableManager=e.cableLoad>0&&!this.cabling.hasVerticalCableManager,e}getConfigurationRecommendations(s){const e=[],a=this.calculateTypeSpecificMetrics(s);return a.utilizationPercent>80&&e.push({severity:"warning",message:"Высокая плотность монтажа",suggestion:`Заполнено ${a.utilizationPercent.toFixed(1)}% юнитов, рекомендуется предусмотреть вентиляцию`}),a.requiresPDU?e.push({severity:"error",message:"Требуется PDU (блок распределения питания)",suggestion:`Суммарный ток: ${a.totalCurrent.toFixed(1)}А`}):this.power.hasPDU&&a.totalCurrent>this.power.maxCurrent&&e.push({severity:"error",message:"Превышена мощность PDU",suggestion:`Требуется ${a.totalCurrent.toFixed(1)}А, доступно ${this.power.maxCurrent}А`}),a.requiresCableManager&&e.push({severity:"warning",message:"Рекомендуется кабель-организатор",suggestion:`Нагрузка на кабели: ${a.cableLoad.toFixed(1)}кг`}),a.availableRackUnits<2&&e.push({severity:"info",message:"Почти все юниты заняты",suggestion:`Свободно только ${a.availableRackUnits}U`}),e}getAvailableRackUnits(){return this.rack.units}hasPDU(){return this.power.hasPDU}hasCableManagement(){return this.cabling.hasHorizontalCableManager||this.cabling.hasVerticalCableManager}}export{p as TelecomCabinet};
