# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï PIVOT POINT –î–õ–Ø –ü–ê–ù–ï–õ–ò

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ `panel.scale.set(3.0, 3.0, 3.0)` –ø–∞–Ω–µ–ª—å –≤–∏–∑—É–∞–ª—å–Ω–æ —Å–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ **–ø–æ–ª–æ–≤–∏–Ω—É —Å–≤–æ–µ–π –¥–ª–∏–Ω—ã** –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ **1 –º–º**.

## –ü—Ä–∏—á–∏–Ω–∞

Three.js –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã **–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ origin (0,0,0)**, –ù–ï –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞.

–ï—Å–ª–∏ pivot point –ø–∞–Ω–µ–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è **–ù–ï –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–µ–æ–º–µ—Ç—Ä–∏–∏**, —Ç–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ:

```
–ü—Ä–∏–º–µ—Ä:
- –ü–∞–Ω–µ–ª—å: –≥–µ–æ–º–µ—Ç—Ä–∏—è –æ—Ç Y=0 –¥–æ Y=500 –º–º (–≤—ã—Å–æ—Ç–∞ 500 –º–º)
- Pivot: –≤ Y=0 (–Ω–∏–∂–Ω–∏–π –∫—Ä–∞–π)
- Local position.y = 250 –º–º

–ü—Ä–∏ scale √ó 3.0:
- –ì–µ–æ–º–µ—Ç—Ä–∏—è: –æ—Ç Y=0 –¥–æ Y=1500 –º–º (–≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ)
- –í –º–∏—Ä–æ–≤–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ: min.y = 250, max.y = 1750
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ: +500 –º–º –≤–≤–µ—Ä—Ö!
```

## –†–µ—à–µ–Ω–∏–µ 1: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞

### –ê–ª–≥–æ—Ä–∏—Ç–º

1. –í—ã—á–∏—Å–ª–∏—Ç—å **–º–∏—Ä–æ–≤–æ–π —Ü–µ–Ω—Ç—Ä** –ø–∞–Ω–µ–ª–∏ –î–û –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–æ–≤—ã–π `scale`
3. –í—ã—á–∏—Å–ª–∏—Ç—å **–Ω–æ–≤—ã–π –º–∏—Ä–æ–≤–æ–π —Ü–µ–Ω—Ç—Ä** –ü–û–°–õ–ï –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
4. –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `position`, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å —Ü–µ–Ω—Ç—Ä –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ

### –ö–æ–¥

```javascript
// 1. –ó–∞–ø–æ–º–Ω–∏—Ç—å –º–∏—Ä–æ–≤–æ–π —Ü–µ–Ω—Ç—Ä –î–û –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
const boxBefore = new THREE.Box3().setFromObject(panel);
const centerBefore = boxBefore.getCenter(new THREE.Vector3());

// 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∞—Å—à—Ç–∞–±
panel.scale.set(targetScale, targetScale, targetScale);
panel.updateMatrixWorld(true);

// 3. –í—ã—á–∏—Å–ª–∏—Ç—å –Ω–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä –ü–û–°–õ–ï –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
const boxAfter = new THREE.Box3().setFromObject(panel);
const centerAfter = boxAfter.getCenter(new THREE.Vector3());

// 4. –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: —Å–¥–≤–∏–Ω—É—Ç—å –ø–∞–Ω–µ–ª—å, —á—Ç–æ–±—ã —Ü–µ–Ω—Ç—Ä –≤–µ—Ä–Ω—É–ª—Å—è –Ω–∞ –º–µ—Å—Ç–æ
const offset = new THREE.Vector3().subVectors(centerBefore, centerAfter);
panel.position.add(offset);
panel.updateMatrixWorld(true);
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ TWEEN

```javascript
// –í onComplete –∞–Ω–∏–º–∞—Ü–∏–∏
.onComplete(() => {
    // –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è tween
    const boxAfter = new THREE.Box3().setFromObject(panel);
    const centerAfter = boxAfter.getCenter(new THREE.Vector3());
    
    const offset = new THREE.Vector3().subVectors(centerBefore, centerAfter);
    panel.position.add(offset);
    panel.updateMatrixWorld(true);
    
    checkComplete();
})
```

## –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–æ–¥–µ–ª—å –≤ Blender

### –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å pivot –≤ —Ü–µ–Ω—Ç—Ä –≥–µ–æ–º–µ—Ç—Ä–∏–∏

1. –û—Ç–∫—Ä—ã—Ç—å GLB –≤ Blender
2. –í—ã–±—Ä–∞—Ç—å –æ–±—ä–µ–∫—Ç `PANEL.003`
3. `Object > Set Origin > Origin to Geometry`
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å GLB —Å–Ω–æ–≤–∞
5. –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª –≤ `/public/assets/models/`

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –≤ –∫–æ–¥–µ
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–ø–æ–≤–æ—Ä–æ—Ç, –º–∞—Å—à—Ç–∞–±, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ)

## –†–µ—à–µ–Ω–∏–µ 3: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å mesh –≤–º–µ—Å—Ç–æ group

–í–º–µ—Å—Ç–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è `panel` (Group), –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ–≥–æ `mesh`:

```javascript
panel.traverse((child) => {
    if (child.isMesh) {
        child.scale.set(targetScale, targetScale, targetScale);
        child.updateMatrixWorld(true);
    }
});
```

‚ö†Ô∏è **–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**, —Ç–∞–∫ –∫–∞–∫ –Ω–∞—Ä—É—à–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é (DIN-—Ä–µ–π–∫–∏ –Ω–µ –ø–æ—Å–ª–µ–¥—É—é—Ç –∑–∞ –ø–∞–Ω–µ–ª—å—é).

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ pivot point

```javascript
const panel = this.model.getObjectByName('PANEL003');
const box = new THREE.Box3().setFromObject(panel);
const center = box.getCenter(new THREE.Vector3());

console.log('Local position:', panel.position);
console.log('World BBox center:', center);
console.log('Pivot offset from center:', 
    panel.position.x - center.x,
    panel.position.y - center.y,
    panel.position.z - center.z
);
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ pivot**:
```
Pivot offset from center: (0, 0, 0)
```

**–ï—Å–ª–∏ pivot —Å–º–µ—â—ë–Ω**:
```
Pivot offset from center: (0, -250, 0)  ‚Üê Pivot –Ω–∞ 250 –º–º –Ω–∏–∂–µ —Ü–µ–Ω—Ç—Ä–∞
```

## –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–æ–¥–µ–ª—å –≤ Blender (–†–µ—à–µ–Ω–∏–µ 2) ‚Äî —ç—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏—Ç –ø—Ä–æ–±–ª–µ–º—É —Ä–∞–∑ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞.

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –≤ –∫–æ–¥–µ (–†–µ—à–µ–Ω–∏–µ 1) ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å.

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-11-11  
**–°—Ç–∞—Ç—É—Å**: –í –ø—Ä–æ—Ü–µ—Å—Å–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
