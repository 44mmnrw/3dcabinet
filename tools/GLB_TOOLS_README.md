# üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å GLB-–º–æ–¥–µ–ª—è–º–∏

## üì¶ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```powershell
cd c:\laragon\www\3dcabinet\tools
pip install pygltflib numpy
```

---

## üîç –°–∫—Ä–∏–ø—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏

**–§–∞–π–ª:** `check_glb_model.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç GLB-—Ñ–∞–π–ª –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ä–∞–∑–º–µ—Ä—ã, —Ü–µ–Ω—Ç—Ä, —Å—Ç—Ä—É–∫—Ç—É—Ä—É —É–∑–ª–æ–≤, –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è).

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```powershell
# –ò–∑ –ø–∞–ø–∫–∏ tools
python check_glb_model.py ../public/assets/models/thermocabinets/tsh_700_500_240/test.glb

# –ò–ª–∏ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å
python check_glb_model.py "c:/laragon/www/3dcabinet/public/assets/models/thermocabinets/tsh_700_500_240/test.glb"
```

### –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç

- ‚úÖ **–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤, –º–µ—à–µ–π, –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, —Ç–µ–∫—Å—Ç—É—Ä
- üå≤ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–æ–≤:** –∏–µ—Ä–∞—Ä—Ö–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∏–º–µ–Ω–∞–º–∏ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è–º–∏
- üìê **–†–∞–∑–º–µ—Ä—ã:** bounding box, —Ü–µ–Ω—Ç—Ä, —Ä–∞–∑–º–µ—Ä—ã –ø–æ –æ—Å—è–º
- üîç **–ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è:** –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–º–µ—Ç—Ä—ã/—Å–º/–º–º) + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- üìç **–ü–æ–ª–æ–∂–µ–Ω–∏–µ:** –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –ø–æ–ª—É
- üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:** –≥–æ—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Three.js

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üì¶ –ê–ù–ê–õ–ò–ó GLB-–ú–û–î–ï–õ–ò
–§–∞–π–ª: test.glb
–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 245.67 KB

üìê –†–ê–ó–ú–ï–†–´ –ò BOUNDING BOX
–í—Å–µ–≥–æ –≤–µ—Ä—à–∏–Ω: 4532
Bounding Box:
  Min: (-0.3000, 0.0000, -0.2500)
  Max: (0.3000, 0.7000, 0.2500)
  –¶–µ–Ω—Ç—Ä: (0.0000, 0.3500, 0.0000)
  –†–∞–∑–º–µ—Ä: 0.6000 √ó 0.7000 √ó 0.5000
  –î–∏–∞–≥–æ–Ω–∞–ª—å: 1.0198

‚ö†Ô∏è  –ú–æ–¥–µ–ª—å –≤ –ú–ï–¢–†–ê–• (–¥–∏–∞–≥–æ–Ω–∞–ª—å < 10)
   –†–∞–∑–º–µ—Ä –≤ –º–∏–ª–ª–∏–º–µ—Ç—Ä–∞—Ö: 600 √ó 700 √ó 500 –º–º
   –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–∞—Å—à—Ç–∞–± –¥–ª—è Three.js: 1000√ó

üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:
1. –ú–æ–¥–µ–ª—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ –º–µ—Ç—Ä–∞—Ö
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–∞—Å—à—Ç–∞–± –≤ CabinetModel.js:
   this.model.scale.set(1000, 1000, 1000);
```

---

## üîß –°–∫—Ä–∏–ø—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ–Ω–∫–∞ –º–æ–¥–µ–ª–∏

**–§–∞–π–ª:** `adjust_glb_model.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –º–æ–¥–µ–ª—å –∫ —Ç—Ä–µ–±—É–µ–º—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º (—Ä–∞–∑–º–µ—Ä—ã, –µ–¥–∏–Ω–∏—Ü—ã, —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ).

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞)

```python
# –¶–µ–ª–µ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã –≤ –º–∏–ª–ª–∏–º–µ—Ç—Ä–∞—Ö
TARGET_WIDTH = 600   # –º–º (X)
TARGET_HEIGHT = 700  # –º–º (Y)
TARGET_DEPTH = 500   # –º–º (Z)

# –†–µ–∂–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
SCALE_MODE = 'fit'   # 'fit' | 'stretch' | 'meters_to_mm' | 'cm_to_mm'

# –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
CENTER_XZ = True     # –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ X –∏ Z
FLOOR_Y = True       # –ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–æ–ª (Y min = 0)
```

**–†–µ–∂–∏–º—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
- `'fit'` ‚Äî –≤–ø–∏—Å–∞—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)
- `'stretch'` ‚Äî —Ä–∞—Å—Ç—è–Ω—É—Ç—å –¥–æ —Ç–æ—á–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ (–º–æ–∂–µ—Ç –∏—Å–∫–∞–∑–∏—Ç—å)
- `'meters_to_mm'` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä—ã ‚Üí –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã (√ó1000)
- `'cm_to_mm'` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä—ã ‚Üí –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã (√ó100)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```powershell
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (—Å–æ–∑–¥–∞—Å—Ç test_adjusted.glb)
python adjust_glb_model.py test.glb

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
python adjust_glb_model.py test.glb test_fixed.glb

# –ü–æ–ª–Ω—ã–π –ø—É—Ç—å
python adjust_glb_model.py "../public/assets/models/thermocabinets/tsh_700_500_240/test.glb" "../public/assets/models/thermocabinets/tsh_700_500_240/test_adjusted.glb"
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

1. **–ß–∏—Ç–∞–µ—Ç GLB-—Ñ–∞–π–ª** –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç** —Å–æ–≥–ª–∞—Å–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ä–µ–∂–∏–º—É
3. **–¶–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç** –º–æ–¥–µ–ª—å (origin –≤ –Ω–∏–∂–Ω–µ–º —Ü–µ–Ω—Ç—Ä–µ)
4. **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç** –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å —Å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
5. **–í—ã–¥–∞—ë—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –¥–ª—è Three.js

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üîß –ü–û–î–ì–û–ù–ö–ê GLB-–ú–û–î–ï–õ–ò
–í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª: test.glb
–í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª: test_adjusted.glb
–¶–µ–ª–µ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã: 600 √ó 700 √ó 500 –º–º

üìê –ò—Å—Ö–æ–¥–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:
   –†–∞–∑–º–µ—Ä: 0.6000 √ó 0.7000 √ó 0.5000
   –¶–µ–Ω—Ç—Ä: (0.0000, 0.3500, 0.0000)

üîÑ –®–∞–≥ 1: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ...
   –ú–µ—Ç—Ä—ã ‚Üí –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã (√ó1000)
   –†–∞–∑–º–µ—Ä –ø–æ—Å–ª–µ –º–∞—Å—à—Ç–∞–±–∞: 600.00 √ó 700.00 √ó 500.00 –º–º

üìç –®–∞–≥ 2: –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ...
   –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ X –∏ Z
   –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –ø–æ–ª (Y min ‚Üí 0)

‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:
   –†–∞–∑–º–µ—Ä: 600.00 √ó 700.00 √ó 500.00 –º–º
   –¶–µ–Ω—Ç—Ä: (0.00, 350.00, 0.00)
   Min: (-300.00, 0.00, -250.00)
   Max: (300.00, 700.00, 250.00)

üíæ –®–∞–≥ 3: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...
‚úÖ –ú–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: test_adjusted.glb

üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø THREE.JS
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª: test_adjusted.glb
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ CabinetModel.js:
   this.model.scale.set(1, 1, 1);  // –ú–∞—Å—à—Ç–∞–± –ù–ï –ù–£–ñ–ï–ù
3. –ú–æ–¥–µ–ª—å –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! ‚úÖ
```

---

## üìù –¢–∏–ø–∏—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ + –∞–≤—Ç–æ–ø–æ–¥–≥–æ–Ω–∫–∞

```powershell
cd c:\laragon\www\3dcabinet\tools

# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—É—é –º–æ–¥–µ–ª—å
python check_glb_model.py ../public/assets/models/thermocabinets/tsh_700_500_240/test.glb

# 2. –ü–æ–¥–æ–≥–Ω–∞—Ç—å –º–æ–¥–µ–ª—å (—Å–æ–∑–¥–∞—Å—Ç test_adjusted.glb)
python adjust_glb_model.py ../public/assets/models/thermocabinets/tsh_700_500_240/test.glb

# 3. –ó–∞–º–µ–Ω–∏—Ç—å test.glb –Ω–∞ test_adjusted.glb
# –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç—å –≤ configurator.js
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Å—à—Ç–∞–±–∞

```powershell
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥–µ–ª—å
python check_glb_model.py test.glb
# –í—ã–≤–æ–¥: "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–∞—Å—à—Ç–∞–±: 1000√ó"

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ CabinetModel.js (—Å—Ç—Ä–æ–∫–∞ 83):
this.model.scale.set(1000, 1000, 1000);

# 3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–¥–≥–æ–Ω–∫–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏

```powershell
# 1. –û—Ç–∫—Ä—ã—Ç—å adjust_glb_model.py –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
# 2. –ò–∑–º–µ–Ω–∏—Ç—å TARGET_WIDTH, TARGET_HEIGHT, TARGET_DEPTH
# 3. –í—ã–±—Ä–∞—Ç—å SCALE_MODE = 'fit'
# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å:
python adjust_glb_model.py test.glb cabinet_600x700x500.glb
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏

‚úÖ **–í Blender –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–æ—Ä—Ç–æ–º:**
1. Units: Metric, Millimeters
2. Origin: –Ω–∏–∂–Ω–∏–π —Ü–µ–Ω—Ç—Ä (–Ω–∞ –ø–æ–ª—É)
3. Apply All Transforms (Ctrl+A)
4. Export ‚Üí glTF Binary (.glb), +Y Up

‚úÖ **–ü–æ—Å–ª–µ —ç–∫—Å–ø–æ—Ä—Ç–∞:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `check_glb_model.py` ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã
2. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ: –∑–∞–ø—É—Å—Ç–∏—Ç—å `adjust_glb_model.py` ‚Üí –∏—Å–ø—Ä–∞–≤–∏—Ç—å
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ `public/assets/models/`
4. –û–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç—å –≤ `configurator.js`

### –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

‚ùå **–ú–æ–¥–µ–ª—å —Å–ª–∏—à–∫–æ–º –º–∞–ª–∞/–≤–µ–ª–∏–∫–∞:**
- –ó–∞–ø—É—Å—Ç–∏—Ç—å `check_glb_model.py` ‚Üí –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–∞—Å—à—Ç–∞–±
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ `CabinetModel.js` (—Å—Ç—Ä–æ–∫–∞ 83)

‚ùå **–ú–æ–¥–µ–ª—å —Å–º–µ—â–µ–Ω–∞ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞:**
- –ó–∞–ø—É—Å—Ç–∏—Ç—å `adjust_glb_model.py` —Å `CENTER_XZ = True`
- –ò–ª–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –≤ Blender —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º origin

‚ùå **–ú–æ–¥–µ–ª—å –≤–∏—Å–∏—Ç –≤ –≤–æ–∑–¥—É—Ö–µ:**
- –ó–∞–ø—É—Å—Ç–∏—Ç—å `adjust_glb_model.py` —Å `FLOOR_Y = True`
- –ò–ª–∏ –≤ Blender –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å origin –≤–Ω–∏–∑

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É: `pip list | findstr pygltflib`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python –≤–µ—Ä—Å–∏—é: `python --version` (–Ω—É–∂–µ–Ω 3.7+)
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–Ω–æ–≤–æ: `pip install --upgrade pygltflib numpy`

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ! üöÄ
