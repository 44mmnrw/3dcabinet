## Короткие инструкции для AI-ассистента — 3Cabinet

Ниже — минимальный набор знаний, который поможет быстро понять и править этот проект.

- Проект: одностраничный веб-конфигуратор «3Cabinet» (Vanilla JS). Запуск: откройте `index.html` в браузере — сборки/установки нет.
- Основные файлы:
  - `index.html` — структура и точки монтирования DOM (`#equipment-grid`, `#cabinet-grid`, `#parameters`, `#cabinet-info`).
  - `js/data.js` — вся исходная конфигурация и каталог: константы `EQUIPMENT_DATA` (массив объектов) и `CABINET_CONFIG` (объект). Изменяйте здесь данные при добавлении/редактировании оборудования или конфига шкафа.
  - `js/app.js` — основная логика: состояние `appState`, рендер-функции (`renderEquipmentCatalog`, `renderCabinet`, `renderCabinetInfo`), обработчики DnD (`handleDragStart`, `handleDrop`, ...), расчёты (`calculateTotalPower`, `calculateTotalWeight`, `calculateUsedUnits`) и уведомления (`showNotification`).
  - `css/styles.css` — тема и CSS-переменные в `:root` (цвета, радиусы и т.д.).

- Формат данных (важно — используйте тот же shape при модификации):
  - Элемент из `EQUIPMENT_DATA`: { id, name, description, units, power, weight, depth, category }
  - `installedEquipment` в `appState`: массив { equipmentId, position, units }

- Паттерны и поведение, которые нужно сохранять при изменениях:
  - Код использует HTML5 Drag & Drop без модулей — функции экспортируются в глобальную область видимости (они вызываются через inline-атрибуты в сгенерированных HTML-строках, например `ondragstart="handleDragStart(event, ${equipment.id})"`). При рефакторинге важно сохранить доступность этих функций из глобальной области (или заменить механику DnD целиком).
  - Рендеринг шкафа строится динамически в `renderCabinet()` — логика вычисляет занятые и пустые юниты и возвращает HTML-строки. Изменения в разметке лучше делать там.
  - UI-уведомления создаются прямо в `showNotification()` (inline style + динамическая вставка в `document.body`). Если нужен централизованный компонент уведомлений, сохраняйте текущую семантику (type: 'info' | 'success' | 'error').

- Как тестировать изменения локально:
  - Откройте `index.html` в браузере (двойной клик) или запустите локальный статический сервер (например, Live Server в VS Code или `npx http-server .`) — приложение не требует сборки.
  - Откройте DevTools → Console. При инициализации должен появиться лог: `3Cabinet Configurator initialized`.

- Быстрые, безопасные правки и примеры:
  - Добавить/править оборудование: правьте `EQUIPMENT_DATA` в `js/data.js`. Пример объекта приведён в README и в `js/data.js`.
  - Изменить размеры шкафа/лимиты: правьте `CABINET_CONFIG` (units, maxWeight, maxPower).
  - Цвета/тема: меняйте CSS-переменные в `:root` в `css/styles.css`.

- Важные места в коде для PR-review и тестирования:
  - `appState.installedEquipment` (консистентность хранения position/units)
  - `canPlaceEquipment(position, units)` — проверка пересечений и границ размещения
  - `renderCabinet()` — визуальное представление и логика span/пропуска занятых юнитов
  - Inline-события в темплейтах (`ondrop`, `ondragover`, `onclick`) — при переводе на addEventListener убедитесь, что порядок и контекст сохраняются

- Интеграции/внешние зависимости: отсутствуют (нет бэкенда, нет npm/packaging). Всё клиентское.

- Ограничения и примечания для AI-редакторов:
  - Не добавляйте зависимостей без явной причины; проект целенаправленно минимален.
  - Избегайте перевода на модули ES без одновременного добавления инструкции запуска (пользователи обычно открывают `index.html`). Если делаете модульный рефакторинг — включите инструкцию запуска (dev server) в README и обновите `index.html`.
  - Любые правки, изменяющие shape `EQUIPMENT_DATA` или `installedEquipment`, должны сопровождаться обновлением README и примера в `js/data.js`.

Если какие-то участки кода неочевидны (например, семантика поля `position` в `installedEquipment`), скажите — я уточню и добавлю короткий пример/схему в этот файл.
